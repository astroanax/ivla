# Manip 赛道现场比赛规则  
[English Version](./onsite_competition_rules_en-US.md) | 中文版

## 1. 任务描述  
本赛道旨在构建具备语言理解与执行能力的多模态机器人操作系统。参赛者需设计端到端的操控策略模型，实现从视觉感知、语言指令理解到动作控制预测的完整流程。机器人需在开放的桌面场景中，控制机械臂完成复杂指令引导下的多种操控任务。  

主要挑战包括：  
- 融合语言与视觉信息，驱动感知-决策-控制一体化流程  
- 长程的操作任务，挑战模型决策控制的稳定性和自我纠偏能力  
- 多样化的场景布局、物体类型、操作指令，挑战模型泛化能力  
  
## 2. 比赛环境与设备
为确保比赛的公平性与可重复性，组委会将提供统一的硬件与场地配置，具体包括但不限于：  

**比赛场地**：  
标准化桌面工作区，建议参考尺寸约为 1.5 m × 1.0 m，最终尺寸及边界标定以主办方公布的官方图纸为准。  

**物品设置**：  
涵盖常见家居、教学、日用品类物体。所有物品将按编号统一管理，并保证所有队伍使用的物体型号、尺寸、材质、颜色一致。  

**统一性与公平性**：  
- 所有队伍将面对完全相同的任务集（约5组，每组包含5个以上测试用例），每个用例均附带自然语言任务指令。
- 每个用例的初始桌面状态（包含场景布局、物体位置、朝向、姿态等）将由裁判预先布置并经标定记录，以确保环境一致性。
- 为规避可能存在的场地残留干扰，任务组的执行顺序可通过抽签机制随机决定。

**机器人平台**：  
使用主办方统一提供的机器人平台及其配套机械臂。  

**传感系统**：  
配备统一的RGB-D相机及外参/内参标定参数，传感器的安装位置、视角及帧率等也将在赛前通过官方通告统一规定。  

## 3. 任务设定
**任务形式**：  
所有任务指令以自然语言文本形式给出，覆盖抓取、放置、堆叠、插入等典型操作模式。测试集来源于未公开数据集，以验证模型对新环境的泛化性能。  

**关键子目标**：  
部分复杂任务将被拆解为多个关键子目标（Key Sub-goals）。  

例如任务「将桌面各色积木放入对应颜色碗中」可拆解为：  
1. 红色积木放置在红色碗中；
2. 黄色积木放置在黄色碗中；

**判定规则**：  
每个子目标的成功标准及检测逻辑将由裁判组在赛前统一制定，并通过技术手册形式公开，确保所有队伍在相同规则下接受评测，提升比赛的可重复性、公平性和透明度。

## 4. 比赛
### 4.1 赛前准备
- 参赛队伍需在赛前参考github文档打包好比赛用镜像。
- 比赛现场将提供统一的调试时间和环境，允许使用与线上赛不同的模型权重，允许进行环境适配性配置修改，但禁止修改核心算法逻辑。  

### 4.2 任务执行
- 每支队伍依次执行所有预设任务。每个任务开始前，场景将由裁判重置至官方标准初始状态。
- 任务执行流程：选手确认系统启动 → 裁判输入自然语言指令 → 举手示意 → 裁判开始计时 → 系统自动执行。
- 比赛过程中不得进行与算法相关的人工干预，除非发生系统卡死或崩溃，可经裁判批准进行一次性程序重启。  

### 4.3 时间限制
- 每个任务设有最大允许操作时长10分钟（由主办方根据赛前调试结果公布）。
- 每支队伍总比赛用时（含任务切换、准备与执行）不得超过55分钟。

### 4.4 重试与放弃
- 若执行中发生掉落、卡死、异常姿态等情况，队伍可选择：
  - 重试当前任务（最多2次，累计用时连续计算）
  - 放弃当前任务（得分记为0分，进入下一任务）
- 超过最大时长后，裁判有权强制中止当前任务并记录结果。

### 4.5 公平性与合规性
- 禁止在比赛现场进行额外数据采集。使用自有数据集进行赛前离线训练或协同预训练是允许的，但不得利用比赛现场的环境图像进行模型更新。
- 比赛中除修复系统卡死等不可抗力Bug外，严禁修改核心算法代码。
- 严禁任何未经裁判许可的人工干预（包括但不限于手动移动物体、手动调整机械臂姿态、修改任务判定逻辑等），违规行为将导致扣分或取消成绩。
- 所有参赛队伍如有作弊或扰乱秩序等违规行为，组委会有权取消参赛资格。  

## 5. 评分细则
### 5.1 评分标准（线下挑战）
线下赛评分采用与线上赛相同的计算方式，即所有任务的平均成功率。  
- 单个任务得分 = (完成的关键子目标数 / 总关键子目标数) × 100%  
- 队伍总成绩 = 所有任务平均得分

### 5.2 排名规则（线下挑战）
1. 主要排序：所有任务平均得分（满分10分）
2. 平分规则1：平均得分相同时，按总完成时间排序（越短越优）
3. 平分规则2：总时间相同时，按成功完成的完整任务数量排序
4. 平分规则3：完整任务数量相同时，按任务得分方差排序（越小越优，体现稳定性）

### 5.3 最终成绩
最终结果由线上阶段与线下阶段成绩加权计算：
- **最终成绩计算**： 最终成绩 = （线上积分 × 40%） + （线下积分 × 60%）  

## 6. 附则与说明
- 裁判配置：每场比赛配置2名及以上裁判，负责计时、计分、执行记录与行为判定。裁判应保持中立，不得参与或协助任何参赛队。
- 公平竞赛：参赛队伍须遵守学术规范与竞赛道德，禁止抄袭、作弊、篡改系统日志等行为。
- 信息公开：组委会将提前公布评测协议、计分逻辑、设备清单、初始布局图纸及相关接口文档，以保证参赛队伍在同一信息基线下参赛。
- 规则修订权：如遇不可抗力或突发情况（如设备故障、场地不可用、任务安全风险等），组委会有权对规则进行微调，并通过官方渠道提前通知所有参赛队伍。
